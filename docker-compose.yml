version: '3.9'
services:
  whatsapp_go:
    logging:
      driver: "json-file"
      options:
        max-size: "200k"
        max-file: "10"
    image: "aldinokemal2104/go-whatsapp-web-multidevice:latest"
    build:
      context: .
      dockerfile: ./docker/golang.Dockerfile
    restart: 'always'
    environment:
      - SERVICE_FQDN_WHATSAPP_3000
      - OS=${APP_NAME}
      - BASIC_AUTH=${BASIC_AUTH} # kemal:secret,toni:password
      - WEBHOOK_SECRET=${SERVICE_PASSWORD_WEBHOOK}
    volumes:
      - whatsapp_data:/app/storages